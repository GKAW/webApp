(this["webpackJsonpload-app"]=this["webpackJsonpload-app"]||[]).push([[0],{116:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},164:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(21),o=a.n(c),i=(a(154),a(28)),r=a(22),s=a(7),u=(a(155),a(95)),p=a(132),d=a(239),b=a(107),_=a(230),h=a(241),g=a(231),m=a(217),j=a(222),v=a(229),f=a(1),O=a(238),k=a(248),x=a(220),P=a(244),S=a(11),T=a.n(S),w=a(26),y=a(31),C=a(32),L="",V=function(){function e(){Object(y.a)(this,e)}return Object(C.a)(e,null,[{key:"sign_up",value:function(){var e=Object(w.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/sign_up"),{method:"POST",credentials:"include",headers:{"content-type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"process_template",value:function(){var e=Object(w.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/process_template"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"delete_chemical",value:function(){var e=Object(w.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/delete_chemical"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"generate_heatmap",value:function(){var e=Object(w.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/generate_heatmap"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"GetPlate",value:function(){var e=Object(w.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/getplate"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"PostLogin",value:function(){var e=Object(w.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/login"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addNewPage",value:function(){var e=Object(w.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/add_new_page"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"switchPage",value:function(){var e=Object(w.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/switch_page"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updatePageName",value:function(){var e=Object(w.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/update_page_name"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(w.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/logout"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"update_pipette_setup",value:function(){var e=Object(w.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/update_pipette_setup"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateDiluentInfo",value:function(){var e=Object(w.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/update_diluent_info"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateLoadingInfo",value:function(){var e=Object(w.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/update_loading_info"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"PostBlocks",value:function(){var e=Object(w.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/postblocks"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"PostPlates",value:function(){var e=Object(w.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/postplates"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updatePlateMetadata",value:function(){var e=Object(w.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/update_plate_metadata"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deletePlate",value:function(){var e=Object(w.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/delete_plate"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"PostFile",value:function(){var e=Object(w.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/upload_test/").concat(a),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),R=Object(m.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}})),N=[{value:384,label:384},{value:96,label:96},{value:24,label:24},{value:12,label:12}];var M=function(e){var t=R(),a=Object(n.useState)(!1),c=Object(s.a)(a,2),o=(c[0],c[1],Object(n.useState)(!1)),i=Object(s.a)(o,2),r=i[0];return i[1],Object(n.useEffect)((function(){e.setwell_number(e.well_number),console.log(e.well_number)}),[e.well_number,e.setwell_number]),Object(f.jsxs)(l.a.Fragment,{children:[Object(f.jsx)(b.a,{variant:"h6",children:"Plate metadata"}),Object(f.jsxs)("form",{className:t.root,noValidate:!0,autoComplete:"off",children:[Object(f.jsx)(O.a,{id:"outlined-select-well_number",select:!0,label:"Well number",value:e.well_number,onChange:function(t){e.setwell_number(t.target.value);var a={blank_border:e.blank_border,well_number:t.target.value,replicate_number:e.replicate_number};e.setMetadata(a),V.updatePlateMetadata({metadata:a,page_id:e.activePage,plate_id:e.activePlate,login_token:e.loginToken})},variant:"outlined",required:"true",error:!r||e.well_number?"":"true",children:N.map((function(e){return Object(f.jsx)(k.a,{value:e.value,children:e.label},e.value)}))}),Object(f.jsx)(O.a,{id:"outlined-number-replicates",label:"Replicates",type:"number",variant:"outlined",required:"true",defaultValue:e.replicate_number,value:e.replicate_number,onChange:function(t){e.setreplicate_number(t.target.value);var a={blank_border:e.blank_border,well_number:e.well_number,replicate_number:t.target.value};e.setMetadata(a),V.updatePlateMetadata({metadata:a,page_id:e.activePage,plate_id:e.activePlate,login_token:e.loginToken})},InputLabelProps:{shrink:!0}}),Object(f.jsx)(x.a,{control:Object(f.jsx)(P.a,{onChange:function(t){e.setblank_border(t.target.checked);var a={blank_border:t.target.checked,well_number:e.well_number,replicate_number:e.replicate_number};e.setMetadata(a),V.updatePlateMetadata({metadata:a,page_id:e.activePage,plate_id:e.activePlate,login_token:e.loginToken})},checked:e.blank_border}),label:"Blank Media Border",labelPlacement:"bottom"})]})]})},E=a(16),F=a(39),I=a(38),D=a(223),H=a(242),A=a(8),U=[{value:!0,label:"log uniform"},{value:!1,label:"uniform"}],B=function(e){Object(F.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).onChange_log_scale=n.onChange_log_scale.bind(Object(E.a)(n)),n.onChange_exclude_neg_control=n.onChange_exclude_neg_control.bind(Object(E.a)(n)),n.onChange_low_conc=n.onChange_low_conc.bind(Object(E.a)(n)),n.onChange_high_conc=n.onChange_high_conc.bind(Object(E.a)(n)),n.onChange_n_conditions=n.onChange_n_conditions.bind(Object(E.a)(n)),n.onChange_name=n.onChange_name.bind(Object(E.a)(n)),n.onChange_manualSetup=n.onChange_manualSetup.bind(Object(E.a)(n)),n.delete_chemical=n.delete_chemical.bind(Object(E.a)(n)),n.onChange_conc_list=n.onChange_conc_list.bind(Object(E.a)(n)),n.state={id:null,name:"",low_conc:null,high_conc:null,conc_list:null,n_conditions:null,exclude_neg_control:!1,log_scale:!0,index:null,manualSetup:null},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){console.log("SetUpChemdata.js; componentDidMount triggered."),console.log("COMPONENTDIDMOUNT LOGGED HERE"),console.log("THIS is not triggering upon plate change, keeping state behind props."),this.setState({id:this.props.id,name:this.props.name,low_conc:this.props.low_conc,high_conc:this.props.high_conc,conc_list:this.props.conc_list,n_conditions:this.props.n_conditions,exclude_neg_control:this.props.exclude_neg_control,log_scale:this.props.log_scale,index:this.props.index,manualSetup:this.props.manualSetup,stock_concentration:this.props.stock_concentration,source_labware:this.props.source_labware})}},{key:"delete_chemical",value:function(){var e=this,t={id:this.props.id};V.delete_chemical(t).then((function(t){console.log("SetUpChemicaldata.js; delete_chemical: ",t),e.props.deleteChemicalHandler({id:e.props.id})}))}},{key:"componentDidUpdate",value:function(e,t){var a=t.name!==this.state.name,n=t.low_conc!==this.state.low_conc,l=t.high_conc!==this.state.high_conc,c=t.n_conditions!==this.state.n_conditions,o=t.exclude_neg_control!==this.state.exclude_neg_control,i=t.log_scale!==this.state.log_scale,r=(t.index,this.state.index,t.manualSetup!==this.state.manualSetup),s=t.conc_list!==this.state.conc_list;if(this.state.id!==this.props.id&&this.setState({id:this.props.id,name:this.props.name,low_conc:this.props.low_conc,high_conc:this.props.high_conc,conc_list:this.props.conc_list,n_conditions:this.props.n_conditions,exclude_neg_control:this.props.exclude_neg_control,log_scale:this.props.log_scale,index:this.props.index,manualSetup:this.props.manualSetup,stock_concentration:this.props.stock_concentration,source_labware:this.props.source_labware}),a||n||l||c||o||i||r||s){var u={id:this.props.id,name:this.state.name,low_conc:this.state.low_conc,high_conc:this.state.high_conc,conc_list:this.state.conc_list,n_conditions:this.state.n_conditions,exclude_neg_control:this.state.exclude_neg_control,log_scale:this.state.log_scale,index:this.state.index,manualSetup:this.state.manualSetup,stock_concentration:this.props.stock_concentration,source_labware:this.props.source_labware};console.log("SetUpChemdata.js; componentDidUpdate: updatedChemical: ",u),this.props.updateChemical(u)}}},{key:"onChange_exclude_neg_control",value:function(e){this.setState({exclude_neg_control:e.target.checked})}},{key:"onChange_log_scale",value:function(e){this.setState({log_scale:e.target.value})}},{key:"onChange_name",value:function(e){this.setState({name:e.target.value})}},{key:"onChange_low_conc",value:function(e){this.setState({low_conc:e.target.value})}},{key:"onChange_high_conc",value:function(e){this.setState({high_conc:e.target.value})}},{key:"onChange_n_conditions",value:function(e){this.setState({n_conditions:e.target.value})}},{key:"onChange_manualSetup",value:function(e){this.setState({manualSetup:!this.state.manualSetup})}},{key:"onChange_conc_list",value:function(e){this.setState({conc_list:e.target.value})}},{key:"render",value:function(){var e=this.props.classes;return Object(f.jsxs)(l.a.Fragment,{children:[Object(f.jsx)(j.a,{}),Object(f.jsxs)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:[Object(f.jsxs)(b.a,{variant:"h6",children:["Chemical ",this.state.index,": ",this.state.name]}),Object(f.jsxs)(D.a,{direction:"row",spacing:1,alignItems:"center",children:[Object(f.jsx)(b.a,{children:"Automatic Setup"}),Object(f.jsx)(H.a,{checked:this.state.manualSetup,onChange:this.onChange_manualSetup}),Object(f.jsx)(b.a,{children:"Manual Setup"})]}),this.state.manualSetup?Object(f.jsx)(b.a,{children:"Manual"}):Object(f.jsx)(b.a,{children:"Automatic"}),this.state.manualSetup?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(b.a,{children:"Manual Setup is active. This feature requires the user to input a list of comma separated values (e.g.: 0.1, 0.5, 0.8, 0.95). Replicates are still generated automatically from the plate metadata. Use the same units throughout (also for your stock solution for this chemical)."}),Object(f.jsx)(O.a,{id:"outlined-text-name",label:"Chemical",variant:"outlined",required:"true",InputLabelProps:{shrink:!0},defaultValue:this.props.name,value:this.props.name,onChange:this.onChange_name}),Object(f.jsx)(O.a,{id:"outlined-text-name",label:"Manual Concentration Input",variant:"outlined",required:"true",InputLabelProps:{shrink:!0},defaultValue:this.state.conc_list,value:this.state.conc_list,onChange:this.onChange_conc_list})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{id:"outlined-text-name",label:"Chemical",variant:"outlined",required:"true",InputLabelProps:{shrink:!0},defaultValue:this.props.name,value:this.props.name,onChange:this.onChange_name}),Object(f.jsx)(O.a,{id:"outlined-number-low",label:"Lowest Concentration (uM)",type:"number",variant:"outlined",required:"true",InputLabelProps:{shrink:!0},defaultValue:this.props.low_conc,value:this.props.low_conc,onChange:this.onChange_low_conc}),Object(f.jsx)(O.a,{id:"outlined-number-high",label:"Highest Concentration (uM)",type:"number",variant:"outlined",required:"true",InputLabelProps:{shrink:!0},defaultValue:this.props.high_conc,value:this.props.high_conc,onChange:this.onChange_high_conc}),Object(f.jsx)(O.a,{id:"outlined-number-high",label:"Number of Conditions",type:"number",variant:"outlined",required:"true",InputLabelProps:{shrink:!0},defaultValue:this.props.n_conditions,value:this.props.n_conditions,onChange:this.onChange_n_conditions}),Object(f.jsx)(O.a,{id:"outlined-select-log_scale",select:!0,label:"log_scale",value:this.props.log_scale,onChange:this.onChange_log_scale,variant:"outlined",required:"true",children:U.map((function(e){return Object(f.jsx)(k.a,{value:e.value,children:e.label},e.value)}))}),Object(f.jsx)(x.a,{control:Object(f.jsx)(P.a,{onChange:this.onChange_exclude_neg_control,checked:this.props.exclude_neg_control}),label:"Exclude Negative Control",labelPlacement:"bottom"})]})]}),Object(f.jsx)(v.a,{variant:"text",color:"secondary",onClick:this.delete_chemical,children:"Delete Chemical"})]})}}]),a}(l.a.Component),W=Object(A.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}}))(B),G=function(){return Date.now().toString(36)+Math.random().toString(36).substr(2)};var J=function(e){var t=function(t){var a=e.chemicals.map((function(e){return e.id})).indexOf(t.id),n=Object(r.a)(e.chemicals);n.splice(a,1),e.setChemicals(n)};return Object(f.jsxs)(l.a.Fragment,{children:[!e.activePlate&&Object(f.jsx)(b.a,{children:"Select a plate to get started."}),e.activePlate&&Object(f.jsx)(M,{loginToken:e.loginToken,activePlate:e.activePlate,activePage:e.activePage,metadata:e.metadata,setMetadata:e.setMetadata,well_number:e.well_number,setwell_number:e.setwell_number,replicate_number:e.replicate_number,setreplicate_number:e.setreplicate_number,blank_border:e.blank_border,setblank_border:e.setblank_border}),e.activePlate&&e.chemicals.map((function(a,n){return Object(f.jsx)(W,{id:a.id,name:a.name,low_conc:a.low_conc,high_conc:a.high_conc,conc_list:a.conc_list,manualSetup:a.manualSetup,n_conditions:a.n_conditions,exclude_neg_control:a.exclude_neg_control,log_scale:a.log_scale,index:n+1,updateChemical:e.updateChemicalHandler,deleteChemicalHandler:t,well_number:e.well_number,activePlate:e.activePlate,stock_concentration:a.stock_concentration,source_labware:a.source_labware})})),e.activePlate&&Object(f.jsx)(j.a,{}),e.activePlate&&Object(f.jsx)(v.a,{onClick:function(){var t={id:G(),plate_id:e.currentPlate,name:"",low_conc:null,high_conc:null,conc_list:null,manualSetup:!1,n_conditions:null,exclude_neg_control:!1,log_scale:!0,stock_concentration:null,source_labware:null},a=[].concat(Object(r.a)(e.chemicals),[t]);e.setChemicals(a)},variant:"outlined",color:"primary",children:"Add Chemical"})]})},q=a(68),K=a.n(q),z=Object(m.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}})),Y=[{value:"p20_single_gen2",tip_type:"p20",label:"P20 Single GEN2 (1-20 \xb5L)"},{value:"p300_single_gen2",tip_type:"p300",label:"P300 Single GEN2 (20-300 \xb5L)"},{value:"p1000_single_gen2",tip_type:"p1000",label:"P1000 Single GEN2 (100-1000 \xb5L)"},{value:"p300_multi_gen2",tip_type:"p300",label:"P300 Multi GEN2 (20-300 \xb5L)"},{value:"p20_multi_gen2",tip_type:"p20",label:"P20 Multi GEN2 (1-20 \xb5L)"},{value:"p10_single",tip_type:"p20",label:"P10 Single (1-10 \xb5L)"},{value:"p10_multi",tip_type:"p20",label:"P10 Multi (1-10 \xb5L)"},{value:"p300_single",tip_type:"p300",label:"P300 Single (30-300 \xb5L)"},{value:"p300_multi",tip_type:"p300",label:"P300 Multi (30-300 \xb5L)"},{value:"p1000_single",tip_type:"p1000",label:"P1000 Single (100-1000 \xb5L)"}],Q={p20:[{value:"geb_96_tiprack_10ul",label:"GEB Tips 10 \xb5L"},{value:"opentrons_96_filtertiprack_10ul",label:"OT Filtertips 10 \xb5L"},{value:"opentrons_96_filtertiprack_20ul",label:"OT Filtertips 20 \xb5L"},{value:"opentrons_96_tiprack_10ul",label:"OT Tips 10 \xb5L"},{value:"opentrons_96_tiprack_20ul",label:"OT Tips 20 \xb5L"}],p300:[{value:"opentrons_96_filtertiprack_200ul",label:"OT Filtertips 200 \xb5L"},{value:"opentrons_96_tiprack_300ul",label:"OT Tips 300 \xb5L"}],p1000:[{value:"geb_96_tiprack_1000ul",label:"GEB Tips 1000 \xb5L"},{value:"opentrons_96_filtertiprack_1000ul",label:"OT Filtertips 1000 \xb5L"},{value:"opentrons_96_tiprack_1000ul",label:"OT Tips 1000 \xb5L"}],"":[{value:"",label:"Select Pipette first"}]},X=["p20_single_gen2","p20_multi_gen2","p10_single","p10_multi","opentrons_96_tiprack_20ul"],Z=["p300_single_gen2","p300_multi_gen2","p300_single","p300_multi"],$=["p1000_single_gen2","p1000_single"];var ee=function(e){var t=z(),a=Object(n.useState)(""),c=Object(s.a)(a,2),o=(c[0],c[1],Object(n.useState)(96)),i=Object(s.a)(o,2);return i[0],i[1],Object(n.useEffect)((function(){(e.pipette_left||e.pipette_right)&&(X.includes(e.pipette_left)&&e.setTipTypeLeft("p20"),Z.includes(e.pipette_left)&&e.setTipTypeLeft("p300"),$.includes(e.pipette_left)&&e.setTipTypeLeft("p1000"),X.includes(e.pipette_right)&&e.setTipTypeRight("p20"),Z.includes(e.pipette_right)&&e.setTipTypeRight("p300"),$.includes(e.pipette_right)&&e.setTipTypeRight("p1000"))}),[e.pipette_left,e.pipette_right,e.tip_type_right,e.tip_type_left]),Object(f.jsx)(l.a.Fragment,{children:Object(f.jsxs)("form",{className:t.root,noValidate:!0,autoComplete:"off",children:[Object(f.jsx)(b.a,{variant:"h6",children:"Pipette Setup"}),Object(f.jsx)(O.a,{id:"outlined-select-pipette_left",select:!0,label:"Left Pipette",value:e.pipette_left,onChange:e.handleChange_pipetteLeft,variant:"outlined",children:Y.map((function(e){return Object(f.jsx)(k.a,{value:e.value,children:e.label},e.value)}))}),Object(f.jsx)(O.a,{id:"outlined-select-pipette_right",select:!0,label:"Right Pipette",value:e.pipette_right,onChange:e.handleChange_pipetteRight,variant:"outlined",children:Y.map((function(e){return Object(f.jsx)(k.a,{value:e.value,children:e.label},e.value)}))}),Object(f.jsx)(O.a,{id:"outlined-select-tips_left",select:!0,label:"Left Tips",value:e.tips_left,onChange:e.handleChange_tipsLeft,variant:"outlined",children:Q[e.tip_type_left?e.tip_type_left:""].map((function(e){return Object(f.jsx)(k.a,{value:e.value,children:e.label},e.value)}))}),Object(f.jsx)(O.a,{id:"outlined-select-tips_right",select:!0,label:"Right Tips",value:e.tips_right,onChange:e.handleChange_tipsRight,variant:"outlined",children:Q[e.tip_type_right?e.tip_type_right:""].map((function(e){return Object(f.jsx)(k.a,{value:e.value,children:e.label},e.value)}))}),Object(f.jsx)(j.a,{})]})})},te={96:[{value:"biorad_96_wellplate_200ul_pcr",label:"Bio-Rad 96 Well PCR V-bottom (200 \xb5L)"},{value:"corning_96_wellplate_360ul_flat",label:"Corning 96 Well Flat-bottom (360 \xb5L)"},{value:"nest_96_wellplate_100ul_pcr_full_skirt",label:"NEST 96 Well PCR V-bottom (100 \xb5L)"},{value:"nest_96_wellplate_200ul_flat",label:"NEST 96 Well Flat-bottom (200 \xb5L)"},{value:"nest_96_wellplate_2ml_deep",label:"NEST 96 Deepwell V-bottom (2 mL)"},{value:"usascientific_96_wellplate_2.4ml_deep",label:"USA Scientific 96 Deepwell U-bottom (2.4 mL)"}],12:[{value:"corning_12_wellplate_6.9ml_flat",label:"Corning 12 Well Flat-bottom (6.9 mL)"}],384:[{value:"corning_384_wellplate_112ul_flat",label:"Corning 384 Well Flat-bottom (112 \xb5L)"}],24:[{value:"corning_24_wellplate_3.4ml_flat",label:"Corning 24 Well Flat-bottom (3.4 mL)"},{value:"opentrons_24_tuberack_eppendorf_1.5ml_safelock_snapcap",label:"OT 24 Tube Rack - Snapcap Eppendorf V-bottom (1.5 mL)"},{value:"opentrons_24_tuberack_eppendorf_2ml_safelock_snapcap",label:"OT 24 Tube Rack - Snapcap Eppendorf U-bottom (2 mL)"},{value:"opentrons_24_tuberack_generic_2ml_screwcap",label:"OT 24 Tube Rack - Screwcap Generic V-bottom (2 mL)"},{value:"opentrons_24_tuberack_nest_0.5ml_screwcap",label:"OT 24 Tube Rack - Screwcap NEST V-bottom (0.5 mL)"},{value:"opentrons_24_tuberack_nest_1.5ml_screwcap",label:"OT 24 Tube Rack - Screwcap NEST V-bottom (1.5 mL)"},{value:"opentrons_24_tuberack_nest_1.5ml_snapcap",label:"OT 24 Tube Rack - Snapcap NEST V-bottom (1.5 mL)"},{value:"opentrons_24_tuberack_nest_2ml_screwcap",label:"OT 24 Tube Rack - Screwcap NEST V-bottom (2 mL)"},{value:"opentrons_24_tuberack_nest_2ml_snapcap",label:"OT 24 Tube Rack - Snapcap NEST U-bottom (2 mL)"}],source_options:[{value:"opentrons_6_tuberack_falcon_50ml_conical",label:"OT 6 Tube Rack - 50 mL Falcon V-bottom"},{value:"opentrons_6_tuberack_nest_50ml_conical",label:"OT 6 Tube Rack - 50 mL NEST V-bottom"},{value:"opentrons_15_tuberack_falcon_15ml_conical",label:"OT 15 Tube Rack - 15 mL Falcon V-bottom"},{value:"opentrons_15_tuberack_nest_15ml_conical",label:"OT 15 Tube Rack - 15 mL NEST V-bottom"},{value:"opentrons_24_tuberack_eppendorf_1.5ml_safelock_snapcap",label:"OT 24 Tube Rack - Snapcap Eppendorf V-bottom (1.5 mL)"},{value:"opentrons_24_tuberack_eppendorf_2ml_safelock_snapcap",label:"OT 24 Tube Rack - Snapcap Eppendorf U-bottom (2 mL)"},{value:"opentrons_24_tuberack_generic_2ml_screwcap",label:"OT 24 Tube Rack - Screwcap Generic V-bottom (2 mL)"},{value:"opentrons_24_tuberack_nest_0.5ml_screwcap",label:"OT 24 Tube Rack - Screwcap NEST V-bottom (0.5 mL)"},{value:"opentrons_24_tuberack_nest_1.5ml_screwcap",label:"OT 24 Tube Rack - Screwcap NEST V-bottom (1.5 mL)"},{value:"opentrons_24_tuberack_nest_1.5ml_snapcap",label:"OT 24 Tube Rack - Snapcap NEST V-bottom (1.5 mL)"},{value:"opentrons_24_tuberack_nest_2ml_screwcap",label:"OT 24 Tube Rack - Screwcap NEST V-bottom (2 mL)"},{value:"opentrons_24_tuberack_nest_2ml_snapcap",label:"OT 24 Tube Rack - Snapcap NEST U-bottom (2 mL)"}]},ae=function(e){Object(F.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).onChange_source_labware=n.onChange_source_labware.bind(Object(E.a)(n)),n.onChange_stock_concentration=n.onChange_stock_concentration.bind(Object(E.a)(n)),n.state={activePlate:"",plateType:"",source_labware:null,stock_concentration:null},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){this.setState({chemName:this.props.chemName,activePlate:this.props.activePlate})}},{key:"componentDidUpdate",value:function(e,t){var a=t.source_labware!==this.state.source_labware,n=t.stock_concentration!==this.state.stock_concentration;this.state.id!==this.props.id&&this.setState({activePlate:this.props.activePlate,id:this.props.id,name:this.props.name,low_conc:this.props.low_conc,high_conc:this.props.high_conc,n_conditions:this.props.n_conditions,exclude_neg_control:this.props.exclude_neg_control,log_scale:this.props.log_scale,source_labware:this.props.source_labware,stock_concentration:this.props.stock_concentration}),(a||n)&&this.props.updateChemical({id:this.props.id,name:this.props.name,low_conc:this.props.low_conc,high_conc:this.props.high_conc,n_conditions:this.props.n_conditions,exclude_neg_control:this.props.exclude_neg_control,log_scale:this.props.log_scale,source_labware:this.state.source_labware,stock_concentration:this.state.stock_concentration})}},{key:"onChange_source_labware",value:function(e){this.setState({source_labware:e.target.value})}},{key:"onChange_stock_concentration",value:function(e){this.setState({stock_concentration:e.target.value})}},{key:"render",value:function(){var e=this.props.classes;return Object(f.jsxs)(l.a.Fragment,{children:[Object(f.jsxs)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:[Object(f.jsxs)(b.a,{variant:"h6",children:["Inducer Information: ",this.props.name]}),Object(f.jsx)(O.a,{id:"outlined-select-inducer_source_plate",select:!0,label:"Source Labware",value:this.state.source_labware,onChange:this.onChange_source_labware,InputLabelProps:{shrink:!0},variant:"outlined",children:te.source_options.map((function(e){return Object(f.jsx)(k.a,{value:e.value,children:e.label},e.value)}))}),Object(f.jsx)(O.a,{id:"outlined-number-inducer_stock_concentration",type:"number",label:"Stock Concentration (uM)",value:this.state.stock_concentration,onChange:this.onChange_stock_concentration,variant:"outlined",InputLabelProps:{shrink:!0},children:te.source_options.map((function(e){return Object(f.jsx)(k.a,{value:e.value,children:e.label},e.value)}))})]}),Object(f.jsx)(j.a,{})]})}}]),a}(l.a.Component),ne=Object(A.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}}))(ae),le=Object(m.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}})),ce={96:[{value:"biorad_96_wellplate_200ul_pcr",label:"Bio-Rad 96 Well PCR V-bottom (200 \xb5L)"},{value:"corning_96_wellplate_360ul_flat",label:"Corning 96 Well Flat-bottom (360 \xb5L)"},{value:"nest_96_wellplate_100ul_pcr_full_skirt",label:"NEST 96 Well PCR V-bottom (100 \xb5L)"},{value:"nest_96_wellplate_200ul_flat",label:"NEST 96 Well Flat-bottom (200 \xb5L)"},{value:"nest_96_wellplate_2ml_deep",label:"NEST 96 Deepwell V-bottom (2 mL)"},{value:"usascientific_96_wellplate_2.4ml_deep",label:"USA Scientific 96 Deepwell U-bottom (2.4 mL)"}],12:[{value:"corning_12_wellplate_6.9ml_flat",label:"Corning 12 Well Flat-bottom (6.9 mL)"}],384:[{value:"corning_384_wellplate_112ul_flat",label:"Corning 384 Well Flat-bottom (112 \xb5L)"}],24:[{value:"corning_24_wellplate_3.4ml_flat",label:"Corning 24 Well Flat-bottom (3.4 mL)"},{value:"opentrons_24_tuberack_eppendorf_1.5ml_safelock_snapcap",label:"OT 24 Tube Rack - Snapcap Eppendorf V-bottom (1.5 mL)"},{value:"opentrons_24_tuberack_eppendorf_2ml_safelock_snapcap",label:"OT 24 Tube Rack - Snapcap Eppendorf U-bottom (2 mL)"},{value:"opentrons_24_tuberack_generic_2ml_screwcap",label:"OT 24 Tube Rack - Screwcap Generic V-bottom (2 mL)"},{value:"opentrons_24_tuberack_nest_0.5ml_screwcap",label:"OT 24 Tube Rack - Screwcap NEST V-bottom (0.5 mL)"},{value:"opentrons_24_tuberack_nest_1.5ml_screwcap",label:"OT 24 Tube Rack - Screwcap NEST V-bottom (1.5 mL)"},{value:"opentrons_24_tuberack_nest_1.5ml_snapcap",label:"OT 24 Tube Rack - Snapcap NEST V-bottom (1.5 mL)"},{value:"opentrons_24_tuberack_nest_2ml_screwcap",label:"OT 24 Tube Rack - Screwcap NEST V-bottom (2 mL)"},{value:"opentrons_24_tuberack_nest_2ml_snapcap",label:"OT 24 Tube Rack - Snapcap NEST U-bottom (2 mL)"}],source_options:[{value:"opentrons_6_tuberack_falcon_50ml_conical",label:"OT 6 Tube Rack - 50 mL Falcon V-bottom"},{value:"opentrons_6_tuberack_nest_50ml_conical",label:"OT 6 Tube Rack - 50 mL NEST V-bottom"},{value:"opentrons_15_tuberack_falcon_15ml_conical",label:"OT 15 Tube Rack - 15 mL Falcon V-bottom"},{value:"opentrons_15_tuberack_nest_15ml_conical",label:"OT 15 Tube Rack - 15 mL NEST V-bottom"},{value:"opentrons_24_tuberack_eppendorf_1.5ml_safelock_snapcap",label:"OT 24 Tube Rack - Snapcap Eppendorf V-bottom (1.5 mL)"},{value:"opentrons_24_tuberack_eppendorf_2ml_safelock_snapcap",label:"OT 24 Tube Rack - Snapcap Eppendorf U-bottom (2 mL)"},{value:"opentrons_24_tuberack_generic_2ml_screwcap",label:"OT 24 Tube Rack - Screwcap Generic V-bottom (2 mL)"},{value:"opentrons_24_tuberack_nest_0.5ml_screwcap",label:"OT 24 Tube Rack - Screwcap NEST V-bottom (0.5 mL)"},{value:"opentrons_24_tuberack_nest_1.5ml_screwcap",label:"OT 24 Tube Rack - Screwcap NEST V-bottom (1.5 mL)"},{value:"opentrons_24_tuberack_nest_1.5ml_snapcap",label:"OT 24 Tube Rack - Snapcap NEST V-bottom (1.5 mL)"},{value:"opentrons_24_tuberack_nest_2ml_screwcap",label:"OT 24 Tube Rack - Screwcap NEST V-bottom (2 mL)"},{value:"opentrons_24_tuberack_nest_2ml_snapcap",label:"OT 24 Tube Rack - Snapcap NEST U-bottom (2 mL)"}]};var oe=function(e){var t=le();return Object(f.jsxs)(l.a.Fragment,{children:[Object(f.jsxs)("form",{className:t.root,noValidate:!0,autoComplete:"off",children:[Object(f.jsx)(b.a,{variant:"h6",children:"Loading Information"}),Object(f.jsx)(O.a,{id:"outlined-select-destinationPlate",select:!0,label:"Destination Plate",value:e.destinationPlate,onChange:function(t){e.setDestinationPlate(t.target.value);var a={destinationPlate:t.target.value,inducerMixVolume:e.inducerMixVolume,finalVolume:e.finalVolume,dilutionFactor:e.dilutionFactor};V.updateLoadingInfo({loadingInfo:a,plate_id:e.activePlate,page_id:e.activePage,login_token:e.loginToken}).then((function(e){return console.log("ScriptSelector.js; updateLoadingInfo: ",e)}))},variant:"outlined",children:ce[e.metadata.well_number].map((function(e){return Object(f.jsx)(k.a,{value:e.value,children:e.label},e.value)}))}),Object(f.jsx)(O.a,{id:"outlined-number-destination_inducer_volume",type:"number",label:"Inducer Mix Volume",value:e.inducerMixVolume,onChange:function(t){e.setInducerMixVolume(t.target.value);var a=e.finalVolume/t.target.value;e.setDilutionFactor(a);var n={destinationPlate:e.destinationPlate,inducerMixVolume:t.target.value,finalVolume:e.finalVolume,dilutionFactor:a};V.updateLoadingInfo({loadingInfo:n,plate_id:e.activePlate,page_id:e.activePage,login_token:e.loginToken}).then((function(e){return console.log("ScriptSelector.js; updateLoadingInfo: ",e)}))},variant:"outlined"}),Object(f.jsx)(O.a,{id:"outlined-number-destination_total_volume",type:"number",label:"Final Volume (post dilution)",value:e.finalVolume,onChange:function(t){e.setFinalVolume(t.target.value);var a=t.target.value/e.inducerMixVolume;e.setDilutionFactor(a);var n={destinationPlate:e.destinationPlate,inducerMixVolume:e.inducerMixVolume,finalVolume:t.target.value,dilutionFactor:a};V.updateLoadingInfo({loadingInfo:n,plate_id:e.activePlate,page_id:e.activePage,login_token:e.loginToken}).then((function(e){return console.log("ScriptSelector.js; updateLoadingInfo: ",e)}))},variant:"outlined"}),Object(f.jsx)(O.a,{id:"outlined-number-destination_concentration_factor",type:"number",label:"Dilution factor",value:e.dilutionFactor,onChange:function(t){e.setDilutionFactor(t.target.value);var a=e.inducerMixVolume*t.target.value;e.setFinalVolume(a);var n={destinationPlate:e.destinationPlate,inducerMixVolume:e.inducerMixVolume,finalVolume:a,dilutionFactor:t.target.value};V.updateLoadingInfo({loadingInfo:n,plate_id:e.activePlate,page_id:e.activePage,login_token:e.loginToken}).then((function(e){return console.log("ScriptSelector.js; updateLoadingInfo: ",e)}))},variant:"outlined"})]}),Object(f.jsx)(j.a,{})]})},ie=Object(m.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}})),re=[{value:"opentrons_6_tuberack_falcon_50ml_conical",label:"OT 6 Tube Rack - 50 mL Falcon V-bottom"},{value:"opentrons_6_tuberack_nest_50ml_conical",label:"OT 6 Tube Rack - 50 mL NEST V-bottom"},{value:"opentrons_15_tuberack_falcon_15ml_conical",label:"OT 15 Tube Rack - 15 mL Falcon V-bottom"},{value:"opentrons_15_tuberack_nest_15ml_conical",label:"OT 15 Tube Rack - 15 mL NEST V-bottom"},{value:"opentrons_24_tuberack_eppendorf_1.5ml_safelock_snapcap",label:"OT 24 Tube Rack - Snapcap Eppendorf V-bottom (1.5 mL)"},{value:"opentrons_24_tuberack_eppendorf_2ml_safelock_snapcap",label:"OT 24 Tube Rack - Snapcap Eppendorf U-bottom (2 mL)"},{value:"opentrons_24_tuberack_generic_2ml_screwcap",label:"OT 24 Tube Rack - Screwcap Generic V-bottom (2 mL)"},{value:"opentrons_24_tuberack_nest_0.5ml_screwcap",label:"OT 24 Tube Rack - Screwcap NEST V-bottom (0.5 mL)"},{value:"opentrons_24_tuberack_nest_1.5ml_screwcap",label:"OT 24 Tube Rack - Screwcap NEST V-bottom (1.5 mL)"},{value:"opentrons_24_tuberack_nest_1.5ml_snapcap",label:"OT 24 Tube Rack - Snapcap NEST V-bottom (1.5 mL)"},{value:"opentrons_24_tuberack_nest_2ml_screwcap",label:"OT 24 Tube Rack - Screwcap NEST V-bottom (2 mL)"},{value:"opentrons_24_tuberack_nest_2ml_snapcap",label:"OT 24 Tube Rack - Snapcap NEST U-bottom (2 mL)"}];var se=function(e){var t=ie();return Object(f.jsxs)(l.a.Fragment,{children:[Object(f.jsxs)("form",{className:t.root,noValidate:!0,autoComplete:"off",children:[Object(f.jsx)(b.a,{variant:"h6",children:"Diluent Information"}),Object(f.jsx)(O.a,{id:"outlined-select-source_labware",select:!0,label:"Source Labware",value:e.diluentLabware,onChange:function(t){e.setDiluentLabware(t.target.value);var a={labware:t.target.value};V.updateDiluentInfo({diluent_info:a,plate_id:e.activePlate,page_id:e.activePage,login_token:e.loginToken}).then((function(e){console.log("DiluentInfo.js; updateDiluentInfo",e)}))},variant:"outlined",children:re.map((function(e){return Object(f.jsx)(k.a,{value:e.value,children:e.label},e.value)}))})]}),Object(f.jsx)(j.a,{})]})},ue=Object(m.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}}));var pe=function(e){var t=ue(),a=Object(n.useState)({}),c=Object(s.a)(a,2),o=(c[0],c[1],Object(n.useState)("")),i=Object(s.a)(o,2),r=i[0],u=i[1],p=Object(n.useState)(""),d=Object(s.a)(p,2),_=(d[0],d[1],function(e){u(e.target.value)});return Object(f.jsxs)(l.a.Fragment,{children:[!e.activePlate&&Object(f.jsx)(b.a,{children:"Select a plate to get started."}),e.activePlate&&Object(f.jsx)(oe,{loginToken:e.loginToken,activePlate:e.activePlate,activePage:e.activePage,metadata:e.metadata,destinationPlate:e.destinationPlate,inducerMixVolume:e.inducerMixVolume,finalVolume:e.finalVolume,dilutionFactor:e.dilutionFactor,setDestinationPlate:e.setDestinationPlate,setInducerMixVolume:e.setInducerMixVolume,setFinalVolume:e.setFinalVolume,setDilutionFactor:e.setDilutionFactor}),e.activePlate&&Object(f.jsx)(ee,{activePlate:e.activePlate,chemicals:e.chemicals,metadata:e.metadata,pipette_left:e.pipette_left,pipette_right:e.pipette_right,tip_type_left:e.tip_type_left,tip_type_right:e.tip_type_right,tips_left:e.tips_left,tips_right:e.tips_right,handleChange_pipetteLeft:function(t){e.setPipetteLeft(t.target.value),e.setTipTypeLeft(t.target.tip_type);var a={login_token:e.loginToken,plate_id:e.activePlate,pipette_left:t.target.value,tip_type_left:"",pipette_right:e.pipette_right,tip_type_right:e.tip_type_right,tips_left:e.tips_left,tips_right:e.tips_right};V.update_pipette_setup(a).then((function(e){return console.log(e)})),console.log(t.target.tip_type),console.log(t.target.value)},handleChange_pipetteRight:function(t){e.activePlate,e.pipette_left,e.tip_type_left,t.target.value,e.tips_left,e.tips_right;e.setPipetteRight(t.target.value),e.setTipTypeRight(t.target.tip_type)},handleChange_tipsLeft:function(t){e.activePlate,e.pipette_left,e.tip_type_left,e.pipette_right,e.tip_type_right,t.target.value,e.tips_right;e.setTipsLeft(t.target.value)},handleChange_tipsRight:function(t){e.activePlate,e.pipette_left,e.tip_type_left,e.pipette_right,e.tip_type_right,e.tips_left,t.target.value;e.setTipsRight(t.target.value)},well_number:e.well_number,setTipTypeLeft:e.setTipTypeLeft,setTipTypeRight:e.setTipTypeRight}),e.activePlate&&Object(f.jsx)(se,{loginToken:e.loginToken,activePlate:e.activePlate,activePage:e.activePage,diluentLabware:e.diluentLabware,setDiluentLabware:e.setDiluentLabware}),e.activePlate&&e.chemicals.map((function(t,a){return Object(f.jsx)(ne,{id:t.id,index:a+1,activePlate:e.activePlate,metadata:e.metadata,source_labware:t.source_labware,stock_concentration:t.stock_concentration,handleChange_sourceLabware:_,well_number:e.well_number,name:t.name,updateChemical:e.updateChemicalHandler,low_conc:t.low_conc,high_conc:t.high_conc,n_conditions:t.n_conditions,exclude_neg_control:t.exclude_neg_control,log_scale:t.log_scale})})),e.activePlate&&Object(f.jsx)(v.a,{onClick:function(){var t={pipette_left:e.pipette_left,pipette_right:e.pipette_right,tips_left:e.tips_left,tips_right:e.tips_right,dest_labware:e.destinationPlate,source_labware:r,diluent_labware:e.diluentLabware},a={metadata:e.metadata,chemicals:e.chemicals,plate_id:e.activePlate,autoload_metadata:t,login_token:e.loginToken};V.process_template(a).then((function(e){if(console.log(e),e.success){console.log("success scenario");var t=document.createElement("a");t.download="ot_script_reactname.py",t.href="".concat("http://ec2-3-145-8-106.us-east-2.compute.amazonaws.com","/download"),console.log(t.href),t.click()}else console.log("failure scenario")})).catch((function(e){return console.log(e)}))},variant:"contained",color:"primary",size:"medium",className:t.button,startIcon:Object(f.jsx)(K.a,{}),children:"Download OT-2 Script"})]})};var de=a(131),be=a(126),_e=a.n(be),he=Object(m.a)((function(e){return{root:{background:"#eee",border:0,fontSize:16,borderRadius:3,textAlign:"center",color:"black",height:64,padding:"20px"},fillAll:{height:"100%",width:"100%"},marginAll:{padding:"0px","&:hover":{cursor:"pointer"}}}}));var ge=function(e){var t=he(),a=Object(n.useState)(""),c=Object(s.a)(a,2),o=(c[0],c[1],Object(n.useState)("")),r=Object(s.a)(o,2);return r[0],r[1],Object(f.jsx)(l.a.Fragment,{children:Object(f.jsx)("div",{className:t.root,children:Object(f.jsx)(de.a,{onDrop:function(t){return function(t){var a=new FormData;a.append("file",t[0]),a.append("file_name",t[0].name),fetch("".concat("http://ec2-3-145-8-106.us-east-2.compute.amazonaws.com","/upload_data/").concat(e.activePlate),{method:"POST",credentials:"include",body:a}).then((function(t){console.log("reached first.then"),e.setUploadToken(G())}))}(t)},children:function(e){var a=e.getRootProps,n=e.getInputProps;return Object(f.jsx)("section",{className:t.fillAll,children:Object(f.jsxs)("div",Object(i.a)(Object(i.a)({},a()),{},{className:t.marginAll,children:[Object(f.jsx)("input",Object(i.a)({},n())),Object(f.jsx)(b.a,{variant:"button",children:"Drag and drop or click to upload your data in csv format"}),Object(f.jsx)("div",{children:Object(f.jsx)(_e.a,{fontSize:"Large"})})]}))})}})})})},me=Object(m.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,MaxWidth:"100%",height:"auto",maxHeight:"400px",justifyContent:"center",justifyItems:"center",display:"block",margin:"auto"},topPad:{marginTop:"12px",marginBottom:"12px"}}}));var je=function(e){var t=me(),a=function(){var t={well_number:e.well_number,chemicals:e.chemicals,plate_id:e.activePlate,login_token:e.loginToken};V.generate_heatmap(t).then((function(t){e.setImageToken(t.token)})).catch((function(e){console.log(e),console.log("probably no csv uploaded.")}))};return Object(n.useEffect)((function(){e.setImageToken(""),a()}),[e.activePlate,e.windowTabChange,e.uploadToken]),Object(f.jsxs)(l.a.Fragment,{children:[Object(f.jsxs)("div",{className:t.topPad,children:[Object(f.jsx)(v.a,{onClick:a,children:"Preview Heatmap"}),Object(f.jsx)(v.a,{onClick:function(){var t=document.createElement("a"),a=new Blob(["get_img/".concat(e.activePlate,"/").concat(e.image_token)],{type:"image/*"});t.href=URL.createObjectURL(a),t.download="image.png",t.click()},variant:"outlined",color:"primary",children:"Download Heatmap"})]}),e.image_token&&Object(f.jsx)("div",{children:Object(f.jsx)("img",{className:t.root,src:"get_img/".concat(e.activePlate,"/").concat(e.image_token)})})]})};var ve=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),r=Object(s.a)(i,2),u=r[0],p=r[1],d=Object(n.useState)(""),_=Object(s.a)(d,2),h=_[0],g=_[1];return Object(f.jsxs)(l.a.Fragment,{children:[!e.activePlate&&Object(f.jsx)(b.a,{children:"Select a plate to get started."}),Object(f.jsx)(ge,{uploadReady:c,setUploadReady:o,activePlate:e.activePlate,uploadToken:u,setUploadToken:p}),Object(f.jsx)(je,{loginToken:e.loginToken,activePlate:e.activePlate,chemicals:e.chemicals,well_number:e.well_number,image_token:h,setImageToken:g,windowTabChange:e.windowTabChange,uploadToken:u})]})},fe=["children","value","index"];function Oe(e){var t=e.children,a=e.value,n=e.index,l=Object(p.a)(e,fe);return Object(f.jsx)("div",Object(i.a)(Object(i.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},l),{},{children:a===n&&Object(f.jsx)(d.a,{p:3,children:Object(f.jsx)(b.a,{children:t})})}))}function ke(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var xe=Object(m.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));var Pe=function(e){var t=xe(),a=l.a.useState(0),n=Object(s.a)(a,2),c=n[0],o=n[1];return Object(f.jsxs)("div",{className:t.root,children:[Object(f.jsx)(_.a,{position:"static",children:Object(f.jsxs)(h.a,{value:c,onChange:function(t,a){e.handlePlateChange(e.activePlate),o(a)},centered:!0,children:[Object(f.jsx)(g.a,Object(i.a)({label:"Set Up"},ke(0))),Object(f.jsx)(g.a,Object(i.a)({label:"AutoLoad"},ke(1))),Object(f.jsx)(g.a,Object(i.a)({label:"Analyse"},ke(2)))]})}),Object(f.jsx)(Oe,{value:c,index:0,children:Object(f.jsx)(J,{loginToken:e.loginToken,activePlate:e.activePlate,activePage:e.activePage,setChemicals:e.setChemicals,chemicals:e.chemicals,updateChemicalHandler:e.updateChemicalHandler,metadata:e.metadata,setMetadata:e.setMetadata,well_number:e.well_number,setwell_number:e.setwell_number,replicate_number:e.replicate_number,setreplicate_number:e.setreplicate_number,blank_border:e.blank_border,setblank_border:e.setblank_border})}),Object(f.jsx)(Oe,{value:c,index:1,children:Object(f.jsx)(pe,{activePlate:e.activePlate,activePage:e.activePage,loginToken:e.loginToken,chemicals:e.chemicals,setChemicals:e.setChemicals,updateChemicalHandler:e.updateChemicalHandler,metadata:e.metadata,well_number:e.well_number,destinationPlate:e.destinationPlate,inducerMixVolume:e.inducerMixVolume,finalVolume:e.finalVolume,dilutionFactor:e.dilutionFactor,setInducerMixVolume:e.setInducerMixVolume,setDestinationPlate:e.setDestinationPlate,setFinalVolume:e.setFinalVolume,setDilutionFactor:e.setDilutionFactor,pipette_left:e.pipette_left,pipette_right:e.pipette_right,tip_type_left:e.tip_type_left,tip_type_right:e.tip_type_right,tips_left:e.tips_left,tips_right:e.tips_right,setPipetteLeft:e.setPipetteLeft,setPipetteRight:e.setPipetteRight,setTipTypeLeft:e.setTipTypeLeft,setTipTypeRight:e.setTipTypeRight,setTipsLeft:e.setTipsLeft,setTipsRight:e.setTipsRight,diluentLabware:e.diluentLabware,setDiluentLabware:e.setDiluentLabware})}),Object(f.jsxs)(Oe,{value:c,index:2,children:[!e.activePlate&&Object(f.jsx)(b.a,{children:"Select a plate to get started."}),e.activePlate&&Object(f.jsx)(ve,{loginToken:e.loginToken,activePlate:e.activePlate,chemicals:e.chemicals,well_number:e.well_number,windowTabChange:c})]})]})},Se=(a(116),a(104)),Te=a.n(Se),we=a(127),ye=[{id:"page-title",tag:"h1",label:"Page Title",isPlate:!1},{id:"heading",tag:"h2",label:"Heading",isPlate:!1},{id:"subheading",tag:"h3",label:"Subheading",isPlate:!1},{id:"paragraph",tag:"p",label:"Paragraph",isPlate:!1},{id:"plate-obj",tag:"",label:"Insert Plate",isPlate:!0}],Ce=function(e){Object(F.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).keyDownHandler=n.keyDownHandler.bind(Object(E.a)(n)),n.state={command:"",items:ye,selectedItem:0},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyDownHandler)}},{key:"componentDidUpdate",value:function(e,t){var a=this.state.command;if(t.command!==a){var n=Object(we.a)(ye,a,{keys:["tag"]});this.setState({items:n})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyDownHandler)}},{key:"keyDownHandler",value:function(e){var t=this.state.items,a=this.state.selectedItem,n=this.state.command;switch(e.key){case"Enter":e.preventDefault(),this.props.onSelect(t[a].tag,t[a].isPlate);break;case"Backspace":n||this.props.close(),this.setState({command:n.substring(0,n.length-1)});break;case"ArrowUp":e.preventDefault();var l=0===a?t.length-1:a-1;this.setState({selectedItem:l});break;case"ArrowDown":case"Tab":e.preventDefault();var c=a===t.length-1?0:a+1;this.setState({selectedItem:c});break;default:this.setState({command:this.state.command+e.key})}}},{key:"render",value:function(){var e=this,t=this.props.position.x,a={top:this.props.position.y-150,left:t};return Object(f.jsx)("div",{className:"SelectMenu",style:a,children:Object(f.jsx)("div",{className:"Items",children:this.state.items.map((function(t,a){var n=e.state.selectedItem,l=e.state.items.indexOf(t)===n;return Object(f.jsx)("div",{className:l?"Selected":null,role:"button",tabIndex:"0",onClick:function(){return e.props.onSelect(t.tag)},children:t.label},a)}))})})}}]),a}(l.a.Component),Le=[{id:"page-title",tag:"h1",label:"Page Title",isPlate:!1},{id:"heading",tag:"h2",label:"Heading",isPlate:!1},{id:"subheading",tag:"h3",label:"Subheading",isPlate:!1},{id:"paragraph",tag:"p",label:"Paragraph",isPlate:!1},{id:"plate-obj",tag:"",label:"Insert Plate",isPlate:!0}],Ve=(l.a.Component,function(e){Object(F.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).onSelectHandler=n.onSelectHandler.bind(Object(E.a)(n)),n.closePlateOptions=n.closePlateOptions.bind(Object(E.a)(n)),n.openPlateOptions=n.openPlateOptions.bind(Object(E.a)(n)),n.onDeleteHandler=n.onDeleteHandler.bind(Object(E.a)(n)),n.state={isPlate:!0,plateMenuIsOpen:!1,isActivePlate:!1,selectColor:"primary"},n}return Object(C.a)(a,[{key:"openPlateOptions",value:function(){console.log("open plate options for ".concat(this.props.id," triggered in plateObject.js")),this.setState({plateMenuIsOpen:!0}),this.props.setActivePlate(!1),document.addEventListener("click",this.closePlateOptions)}},{key:"onDeleteHandler",value:function(){console.log("plateObject.js; delete plate ".concat(this.props.id)),this.props.handlePlateChange(!1),this.props.deletePlate(this.props.id)}},{key:"closePlateOptions",value:function(){this.setState({plateMenuIsOpen:!1}),document.removeEventListener("click",this.closePlateOptions)}},{key:"componentDidUpdate",value:function(e,t){var a=t.html!==this.state.html,n=t.tag!==this.state.tag,l=t.isPlate!==this.state.isPlate,c=e.activePlate!==this.props.activePlate;(a||n||l||c)&&(this.props.updateBlock({id:this.props.id,html:this.state.html,tag:this.state.tag,isPlate:this.state.isPlate}),this.props.activePlate===this.props.id?this.setState({selectColor:"secondary"}):this.setState({selectColor:"primary"}))}},{key:"onSelectHandler",value:function(){console.log("triggered onSelectHandler <plateObject/>"),this.setState({isActivePlate:!0}),this.props.handlePlateChange(this.props.id)}},{key:"render",value:function(){return Object(f.jsxs)(l.a.Fragment,{children:[Object(f.jsx)(v.a,{onClick:this.onSelectHandler,variant:"contained",color:this.state.selectColor,size:"medium",children:"Plate placeholder"}),Object(f.jsx)(v.a,{id:"plateOption-button",variant:"contained",color:"transparent",size:"small","aria-controls":"plateOptions","aria-haspopup":"true","aria-expanded":this.state.plateMenuIsOpen?"true":void 0,onClick:this.openPlateOptions,children:"Plate options"}),"secondary"===this.state.selectColor&&Object(f.jsx)(v.a,{onClick:this.onDeleteHandler,color:"secondary",size:"medium",children:"Delete Plate"}),Object(f.jsx)("plateOptions",{open:this.state.plateMenuIsOpen,onClose:this.closePlateOptions,anchorEl:this.state.plateMenuPosition,MenuListProps:{"aria-labelledby":"plateOption-button"}})]})}}]),a}(l.a.Component)),Re=function(e){var t=document.createRange(),a=window.getSelection();t.selectNodeContents(e),t.collapse(!1),a.removeAllRanges(),a.addRange(t),e.focus()},Ne=function(e){Object(F.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).onChangeHandler=n.onChangeHandler.bind(Object(E.a)(n)),n.onKeyDownHandler=n.onKeyDownHandler.bind(Object(E.a)(n)),n.onKeyUpHandler=n.onKeyUpHandler.bind(Object(E.a)(n)),n.openSelectMenuHandler=n.openSelectMenuHandler.bind(Object(E.a)(n)),n.closeSelectMenuHandler=n.closeSelectMenuHandler.bind(Object(E.a)(n)),n.tagSelectionHandler=n.tagSelectionHandler.bind(Object(E.a)(n)),n.contentEditable=l.a.createRef(),n.state={htmlBackup:null,html:"",tag:"p",isPlate:!1,previousKey:"",selectMenuIsOpen:!1,selectMenuPosition:{x:null,y:null}},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){this.setState({html:this.props.html,tag:this.props.tag,isPlate:this.props.isPlate})}},{key:"componentDidUpdate",value:function(e,t){var a=t.html!==this.state.html,n=t.tag!==this.state.tag,l=t.isPlate!==this.state.isPlate;(a||n||l)&&this.props.updateBlock({id:this.props.id,html:this.state.html,tag:this.state.tag,isPlate:this.state.isPlate})}},{key:"onChangeHandler",value:function(e){this.setState({html:e.target.value})}},{key:"onKeyDownHandler",value:function(e){"\\"===e.key&&this.setState({htmlBackup:this.state.html}),"Enter"===e.key&&("Shift"===this.state.previousKey||this.state.selectMenuIsOpen||(e.preventDefault(),this.props.addBlock({id:this.props.id,ref:this.contentEditable.current}))),"Backspace"!==e.key||this.state.html||(e.preventDefault(),this.props.deleteBlock({id:this.props.id,ref:this.contentEditable.current})),this.setState({previousKey:e.key})}},{key:"onKeyUpHandler",value:function(e){"\\"===e.key&&this.openSelectMenuHandler()}},{key:"openSelectMenuHandler",value:function(){var e=function(){var e,t;if("undefined"!==typeof window.getSelection){var a=window.getSelection();if(0!==a.rangeCount){var n=a.getRangeAt(0).cloneRange();n.collapse(!1);var l=n.getClientRects()[0];l&&(e=l.left,t=l.top)}}return{x:e,y:t}}(),t=e.x,a=e.y;this.setState({selectMenuIsOpen:!0,selectMenuPosition:{x:t,y:a}}),document.addEventListener("click",this.closeSelectMenuHandler)}},{key:"closeSelectMenuHandler",value:function(){this.setState({htmlBackup:null,selectMenuIsOpen:!1,selectMenuPosition:{x:null,y:null}}),document.removeEventListener("click",this.closeSelectMenuHandler)}},{key:"tagSelectionHandler",value:function(e,t){var a=this;t?(this.props.addBlock({id:this.props.id,ref:this.contentEditable.current}),this.setState({tag:e,html:this.state.htmlBackup,isPlate:t},(function(){console.log("triggered plate adding"),a.closeSelectMenuHandler()}))):this.setState({tag:e,html:this.state.htmlBackup,isPlate:t},(function(){Re(a.contentEditable.current),a.closeSelectMenuHandler()}))}},{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[this.state.selectMenuIsOpen&&Object(f.jsx)(Ce,{position:this.state.selectMenuPosition,onSelect:this.tagSelectionHandler,close:this.closeSelectMenuHandler}),Object(f.jsx)(Te.a,{className:"Block",innerRef:this.contentEditable,html:this.state.html,tagName:this.state.tag,onChange:this.onChangeHandler,onKeyDown:this.onKeyDownHandler,onKeyUp:this.onKeyUpHandler,"data-position":this.props.position})]})}}]),a}(l.a.Component),Me=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e})),t.current},Ee={id:G(),html:"",tag:"p",isPlate:!1},Fe=function(e){var t=Object(n.useState)([Ee]),a=Object(s.a)(t,2),c=a[0],o=a[1],u=Object(n.useState)(null),p=Object(s.a)(u,2),d=p[0],b=p[1],_=Me(c);Object(n.useEffect)((function(){e.blocks.length>0?o(e.blocks):o([Ee])}),[e.blocks]),Object(n.useEffect)((function(){_&&_!==c&&e.isLoggedIn&&(c||o([Ee]),V.PostBlocks({blocks:c,page_id:e.activePage,login_token:e.loginToken}))}),[c,_,e.activePage]),Object(n.useEffect)((function(){if(_&&_.length+1===c.length){var e=c.map((function(e){return e.id})).indexOf(d)+1+1,t=document.querySelector('[data-position="'.concat(e,'"]'));t&&t.focus()}if(_&&_.length-1===c.length){var a=_.map((function(e){return e.id})).indexOf(d),n=document.querySelector('[data-position="'.concat(a,'"]'));n&&Re(n)}}),[c,_,d]);var h=function(t){var a=c.map((function(e){return e.id})).indexOf(t.id),n=(c[a],Object(r.a)(c));n[a]=Object(i.a)(Object(i.a)({},n[a]),{},{tag:t.tag,html:t.html,isPlate:t.isPlate,selectColor:t.id===e.activeBlock?"secondary":"primary"}),o(n)},g=function(e){b(e.id);var t=c.map((function(e){return e.id})).indexOf(e.id),a=Object(r.a)(c),n={id:G(),html:"",tag:"p",isPlate:!1};a.splice(t+1,0,n),a[t]=Object(i.a)(Object(i.a)({},a[t]),{},{tag:e.tag,html:e.html,isPlate:e.isPlate}),o(a)},m=function(e){if(c.length>1){b(e.id);var t=c.map((function(e){return e.id})).indexOf(e.id),a=Object(r.a)(c);a.splice(t,1),o(a)}},j=function(t){if(c.length>1){console.log("EditablePage.js; deletePlateHandler, plate_id: ",t);var a=c.map((function(e){return e.id})).indexOf(t),n=Object(r.a)(c);n.splice(a,1),o(n),V.deletePlate({plate_id:t,login_token:e.loginToken})}};return Object(f.jsx)(l.a.Fragment,{children:Object(f.jsx)("div",{className:"Page",children:c.map((function(t){var a=c.map((function(e){return e.id})).indexOf(t.id)+1;return t.isPlate?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(Ve,{id:t.id,isPlate:t.isPlate,deleteBlock:m,deletePlate:j,updateBlock:h,activePlate:e.activePlate,updateActivePlate:e.updateActivePlate,handlePlateChange:e.handlePlateChange,setActivePlate:e.setActivePlate})}):Object(f.jsx)(Ne,{id:t.id,tag:t.tag,html:t.html,isPlate:t.isPlate,updateBlock:h,addBlock:g,deleteBlock:m,position:a},t.id)}))})})};var Ie=function(e){return Object(f.jsxs)(l.a.Fragment,{children:[Object(f.jsx)("div",{className:"PageMenu",children:Object(f.jsx)(O.a,{id:"page_name",label:"Page Name",value:e.activePage_name,onChange:function(t){e.setActivePage_name(t.target.value),V.updatePageName({page_id:e.activePage,page_name:t.target.value,login_token:e.loginToken}).then((function(t){e.handleSetPages(t.pages)}))}})}),Object(f.jsx)("div",{children:Object(f.jsx)(Fe,{activePlate:e.activePlate,setActivePlate:e.setActivePlate,updateActivePlate:e.updateActivePlate,blocks:e.blocks,handleSetBlocks:e.handleSetBlocks,isLoggedIn:e.isLoggedIn,handlePlateChange:e.handlePlateChange,activePage:e.activePage,loginToken:e.loginToken})})]})},De=a(232),He=a(221),Ae=a(129),Ue=a.n(Ae),Be=Object(m.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));var We=function(e){var t=Be();return Object(f.jsx)("div",{className:t.root,children:Object(f.jsx)(_.a,{position:"static",children:Object(f.jsxs)(De.a,{children:[Object(f.jsx)(He.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:function(){e.setSideBarOpen(!e.sideBarOpen)},children:Object(f.jsx)(Ue.a,{})}),e.isLoggedIn?Object(f.jsxs)(b.a,{variant:"h6",className:t.title,children:["Notes of ",e.currentUsername]}):Object(f.jsx)(b.a,{variant:"h6",className:t.title,children:"Log in to use the app"}),!e.isLoggedIn&&Object(f.jsx)(v.a,{color:"inherit",onClick:e.handleClickOpenSignUp,children:"Sign Up"}),!e.isLoggedIn&&Object(f.jsx)(v.a,{color:"inherit",onClick:e.handleClickOpen,variant:"outlined",children:"Login"}),e.isLoggedIn&&Object(f.jsx)(v.a,{color:"inherit",onClick:function(){V.logout().then((function(t){e.setCurrentUsername(t.username),e.setIsLoggedIn(t.logged_in),e.handleSetBlocks([""]),e.setActivePlate(""),e.setLoginToken(null)}))},variant:"outlined",children:"Logout"})]})})})},Ge=a(246),Je=a(233),qe=a(234),Ke=a(235);var ze=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),r=Object(s.a)(i,2),u=r[0],p=r[1],d=Object(n.useState)(!1),b=Object(s.a)(d,2),_=b[0],h=b[1],g=function(){h(!1),e.handleClose()};return Object(f.jsx)(l.a.Fragment,{children:Object(f.jsxs)(Ge.a,{open:e.open,onClose:g,"aria-labelledby":"form-dialog-title",children:[Object(f.jsx)(Je.a,{id:"form-dialog-title",children:"Login"}),Object(f.jsxs)(qe.a,{children:[Object(f.jsx)(O.a,{autoFocus:!0,margin:"dense",id:"name",label:"Email Address",type:"email",fullWidth:!0,onChange:function(e){o(e.target.value)}}),Object(f.jsx)(O.a,{margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0,onChange:function(e){p(e.target.value)}}),Object(f.jsx)(x.a,{control:Object(f.jsx)(P.a,{onChange:function(e){h(e.target.checked)},checked:_}),label:"Remember Me"})]}),Object(f.jsxs)(Ke.a,{children:[Object(f.jsx)(v.a,{onClick:g,color:"primary",children:"Cancel"}),Object(f.jsx)(v.a,{onClick:function(){V.PostLogin({loginEmail:c,loginPassword:u,loginRemember:_}).then((function(t){e.setCurrentUsername(t.username),e.setIsLoggedIn(t.logged_in),e.handleSetBlocks(t.blocks),console.log("===login_token==="),console.log(t),console.log(t.login_token),e.setLoginToken(t.login_token),e.handleSetPages(t.pages),e.updateActivePage(t.page_id),console.log(t)})).catch((function(e){console.log("loginError"),console.log(e)})),h(!1),p(""),o(""),e.handleClose()},color:"primary",variant:"contained",children:"Login"})]})]})})},Ye=a(236);var Qe=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(!1),r=Object(s.a)(i,2),u=r[0],p=r[1],d=Object(n.useState)(!1),_=Object(s.a)(d,2),h=_[0],g=_[1],m=Object(n.useState)(!1),j=Object(s.a)(m,2),k=j[0],x=j[1],P=Object(n.useState)(!1),S=Object(s.a)(P,2),T=S[0],w=S[1],y=Object(n.useState)(""),C=Object(s.a)(y,2),L=C[0],R=C[1],N=Object(n.useState)(""),M=Object(s.a)(N,2),E=M[0],F=M[1],I=Object(n.useState)(""),D=Object(s.a)(I,2),H=D[0],A=D[1];return Object(f.jsx)(l.a.Fragment,{children:Object(f.jsxs)(Ge.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"form-dialog-title",children:[Object(f.jsx)(Je.a,{id:"form-dialog-title",children:"Sign up"}),Object(f.jsxs)(qe.a,{children:[!T&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ye.a,{children:"Sign up for a new account to save your pages and plates for later."}),Object(f.jsx)(O.a,{required:!0,error:k&&u,onChange:function(e){F(e.target.value)},autoFocus:!0,margin:"dense",id:"username",label:"Username",type:"text",fullWidth:!0}),k&&Object(f.jsx)(b.a,{children:{length:"Names need to be at least 5 characters long.",exists:"Username is already taken."}[u]}),Object(f.jsx)(O.a,{required:!0,error:k&&c,onChange:function(e){R(e.target.value)},margin:"dense",id:"email",label:"Email Address",type:"email",fullWidth:!0}),k&&Object(f.jsx)(b.a,{children:{format:"Please enter a valid email address.",exists:"Email is already registered."}[c]}),Object(f.jsx)(O.a,{required:!0,error:k&&h,onChange:function(e){A(e.target.value)},margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0}),k&&Object(f.jsx)(b.a,{children:{length:"Passphrase must be at least 5 characters long."}[h]})]}),T&&Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(Ye.a,{children:"Sign up successful. Please log in to use all features."})})]}),Object(f.jsxs)(Ke.a,{children:[!T&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(v.a,{onClick:e.handleClose,color:"primary",children:"Cancel"}),Object(f.jsx)(v.a,{onClick:function(){var e={user_name:E,user_email:L,user_pass:H};V.sign_up(e).then((function(e){console.log(e),e.success&&(R(""),F(""),A(""),x(!1),w(!0)),e.success||(o(e.user_email_error),g(e.user_pass_error),p(e.user_name_error),x(!0))}))},color:"primary",variant:"contained",children:"Sign Up"})]}),T&&Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(v.a,{onClick:e.handleClose,color:"primary",variant:"contained",children:"Close"})})]})]})})},Xe=a(237),Ze=a(249),$e=a(247),et=a(250),tt=a(251),at=function(e){Object(F.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).onSelectHandler=n.onSelectHandler.bind(Object(E.a)(n)),n.state={isActivePage:!1,selectColor:"primary"},n}return Object(C.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.activePage!==this.props.activePage&&(this.props.activePlate===this.props.id?this.setState({selectColor:"secondary"}):this.setState({selectColor:"primary"}))}},{key:"onSelectHandler",value:function(){this.setState({isActivePage:!0}),this.props.handlePageChange(this.props.id),this.props.setActivePage_name(this.props.name)}},{key:"render",value:function(){return Object(f.jsx)(l.a.Fragment,{children:Object(f.jsx)(v.a,{onClick:this.onSelectHandler,color:this.state.selectColor,fullWidth:!0,textAlign:"left",size:"medium",style:{textTransform:"none",justifyContent:"flex-start"},children:this.props.name})})}}]),a}(l.a.Component),nt=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=(a[0],a[1],function(t){e.updateActivePage(t),e.setSideBarOpen(!1)});return Object(f.jsx)(Xe.a,{open:"left",anchor:"left",onClose:function(){e.setSideBarOpen(!1)},children:Object(f.jsxs)(Ze.a,{sx:{width:250},children:[Object(f.jsx)(et.a,{variant:"h6",sx:{pt:1,pl:2},children:"Pages:"}),Object(f.jsx)(tt.a,{onClick:function(){var t={id:G(),login_token:e.loginToken};V.addNewPage(t).then((function(t){e.updateActivePage(t.activePage),e.handleSetPages(t.pages),e.setActivePage_name(t.name)}))},children:"Add page"}),Object(f.jsx)($e.a,{children:e.pages.map((function(t,a){return Object(f.jsx)(at,{handlePageChange:l,setActivePage_name:e.setActivePage_name,name:t.name,id:t.id})}))})]})})},lt={background:"#eee",overflowY:"scroll"},ct={overflowY:"scroll"};var ot=function(){var e=Object(n.useState)("Anon"),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),p=Object(s.a)(o,2),d=p[0],_=p[1],h=Object(n.useState)(null),g=Object(s.a)(h,2),m=g[0],j=g[1],v=Object(n.useState)(!1),O=Object(s.a)(v,2),k=O[0],x=O[1],P=Object(n.useState)([""]),S=Object(s.a)(P,2),T=S[0],w=S[1],y=function(e){w(e),console.log("app.js; handleSetBlocks: ",T)},C=Object(n.useState)([""]),L=Object(s.a)(C,2),R=L[0],N=L[1],M=function(e){N(e),console.log("app.js; handleSetPages: ",R)},E=Object(n.useState)(!1),F=Object(s.a)(E,2),I=F[0],D=F[1],H=Object(n.useState)(null),A=Object(s.a)(H,2),U=A[0],B=A[1],W=function(e){B(e),console.log("app.js; updateActivePlate: ",U)},G=Object(n.useState)(null),J=Object(s.a)(G,2),q=J[0],K=J[1],z=Object(n.useState)(null),Y=Object(s.a)(z,2),Q=Y[0],X=Y[1],Z=function(e){X(e),console.log("app.js; updateActivePage: ",e),V.switchPage({page_id:e,login_token:m}).then((function(e){y(e.blocks)})),W(null)},$=Object(n.useState)(""),ee=Object(s.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),le=Object(s.a)(ne,2),ce=le[0],oe=le[1],ie=Object(n.useState)(""),re=Object(s.a)(ie,2),se=re[0],ue=re[1],pe=Object(n.useState)(""),de=Object(s.a)(pe,2),be=de[0],_e=de[1],he=Object(n.useState)([]),ge=Object(s.a)(he,2),me=ge[0],je=ge[1],ve=Object(n.useState)(),fe=Object(s.a)(ve,2),Oe=fe[0],ke=fe[1],xe=Object(n.useState)(96),Se=Object(s.a)(xe,2),Te=Se[0],we=Se[1],ye=Object(n.useState)(!0),Ce=Object(s.a)(ye,2),Le=Ce[0],Ve=Ce[1],Re=Object(n.useState)(2),Ne=Object(s.a)(Re,2),Me=Ne[0],Ee=Ne[1],Fe=function(e){console.log("app.js; handlePlateChange: old plate: ",U),console.log("app.js; handlePlateChange: new plate: ",e),B(e),e&&(console.log("triggered app.js; GetPlate"),V.GetPlate({plate_id:e,login_token:m}).then((function(e){console.log("app.js; handlePlateChange, metadata: ",e.metadata),je(e.chemicals),ke(e.metadata),we(e.metadata.well_number),Ve(e.metadata.blank_border),Ee(e.metadata.replicate_number),wt(e.diluent_info.diluent_labware),ae(e.loading_info.destination_plate),oe(e.loading_info.inducer_mix_volume),ue(e.loading_info.final_volume),_e(e.loading_info.dilution_factor)})).catch((function(e){console.log(e)})))},De=Object(n.useState)(!1),He=Object(s.a)(De,2),Ae=He[0],Ue=He[1],Be=function(){Ue(!0)},Ge=Object(n.useState)(!1),Je=Object(s.a)(Ge,2),qe=Je[0],Ke=Je[1],Ye=function(){Ke(!0)},Xe=Object(n.useState)(""),Ze=Object(s.a)(Xe,2),$e=Ze[0],et=Ze[1],tt=Object(n.useState)(""),at=Object(s.a)(tt,2),ot=at[0],it=at[1],rt=Object(n.useState)(""),st=Object(s.a)(rt,2),ut=st[0],pt=st[1],dt=Object(n.useState)(""),bt=Object(s.a)(dt,2),_t=bt[0],ht=bt[1],gt=Object(n.useState)(""),mt=Object(s.a)(gt,2),jt=mt[0],vt=mt[1],ft=Object(n.useState)(""),Ot=Object(s.a)(ft,2),kt=Ot[0],xt=Ot[1],Pt=Object(n.useState)(""),St=Object(s.a)(Pt,2),Tt=St[0],wt=St[1];return Object(f.jsxs)(l.a.Fragment,{children:[Object(f.jsx)(We,{darkMode:I,setDarkMode:D,changeMode:function(){D((function(e){return!e}))},handleClickOpen:Be,handleClickOpenSignUp:Ye,setCurrentUsername:c,setIsLoggedIn:_,setActivePlate:B,isLoggedIn:d,currentUsername:a,handleSetBlocks:y,sideBarOpen:k,setSideBarOpen:x,setLoginToken:j,loginToken:m}),Object(f.jsx)(ze,{open:Ae,handleClickOpen:Be,handleClose:function(){Ue(!1)},handleSetBlocks:y,setCurrentUsername:c,setIsLoggedIn:_,setLoginToken:j,loginToken:m,updateActivePage:Z,handleSetPages:M}),Object(f.jsx)(Qe,{open:qe,handleClickOpen:Ye,handleClose:function(){Ke(!1)},setCurrentUsername:c,setIsLoggedIn:_,handleSetBlocks:y}),k&&Object(f.jsx)(nt,{loginToken:m,setSideBarOpen:x,activePage:Q,updateActivePage:Z,setActivePage_name:K,pages:R,handleSetPages:M}),d?Object(f.jsx)("div",{className:"mainWindow",children:Object(f.jsxs)(u.b,{split:"vertical",defaultSize:"50%",pane1Style:lt,pane2Style:ct,children:[Object(f.jsx)(u.a,{children:Object(f.jsx)(Ie,{activePlate:U,setActivePlate:B,updateActivePlate:W,loginToken:m,blocks:T,handleSetBlocks:y,isLoggedIn:d,handlePlateChange:Fe,activePage:Q,handleSetPages:M,activePage_name:q,setActivePage_name:K})}),Object(f.jsx)(u.a,{children:Object(f.jsx)(Pe,{activePlate:U,activePage:Q,loginToken:m,handlePlateChange:Fe,setChemicals:je,chemicals:me,updateChemicalHandler:function(e){console.log("app.js; updateChemicalHandler: currentChemical: ",e);var t=me.map((function(e){return e.id})).indexOf(e.id),a=Object(r.a)(me);a[t]=Object(i.a)(Object(i.a)({},a[t]),{},{name:e.name,low_conc:e.low_conc,high_conc:e.high_conc,conc_list:e.conc_list,n_conditions:e.n_conditions,exclude_neg_control:e.exclude_neg_control,log_scale:e.log_scale,manualSetup:e.manualSetup,stock_concentration:e.stock_concentration,source_labware:e.source_labware}),je(a),console.log("app.js; updateChemicalHandler: updatedChemicals: ",a),console.log("app.js; updateChemicalHandler: metadata: ",Oe),U&&(console.log("triggered PostPlates"),V.PostPlates({plate_id:U,page_id:Q,chemicals:a,login_token:m}).then((function(e){return console.log("app.js; updateChemicalHandler: ",e)})))},metadata:Oe,setMetadata:ke,well_number:Te,setwell_number:we,replicate_number:Me,setreplicate_number:Ee,blank_border:Le,setblank_border:Ve,destinationPlate:te,inducerMixVolume:ce,finalVolume:se,dilutionFactor:be,setInducerMixVolume:oe,setDestinationPlate:ae,setFinalVolume:ue,setDilutionFactor:_e,pipette_left:$e,pipette_right:ot,tip_type_left:ut,tip_type_right:_t,tips_left:jt,tips_right:kt,setPipetteLeft:et,setPipetteRight:it,setTipTypeLeft:pt,setTipTypeRight:ht,setTipsLeft:vt,setTipsRight:xt,diluentLabware:Tt,setDiluentLabware:wt})})]})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(b.a,{variant:"h2",children:"Please log in to use AutoLoad"})})]})},it=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,255)).then((function(t){var a=t.getCLS,n=t.getFID,l=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),l(e),c(e),o(e)}))};o.a.render(Object(f.jsx)(l.a.StrictMode,{children:Object(f.jsx)(ot,{})}),document.getElementById("root")),it()}},[[164,1,2]]]);
//# sourceMappingURL=main.f442262b.chunk.js.map